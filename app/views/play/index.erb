<div class="container has-text-centered">
  <p class="title">Question <%= @game.number_of_current_question %></p>
  <% if flash[:info] %>
    <h2><%= flash[:info] %></h2>
    <% flash[:info] = nil %>
  <% end %>
  <% if flash[:info] %>
    <h2 style='font-color:red'><%= flash[:info] %></h2>
  <% end %>
  <% choices_array = @game.current_question.choices %>

  <div class="container">

    <form method="post" action="/play">

      <% @game.current_question.choices.each_with_index do |choice_url, index| %>
        <div style="display:inline-flex;flex-direction:rows;">

          <label name="choice_index">
            <div>
              <img src="<%= choice_url %>" height="256px" width="256px" style="border:2px solid <%= @border_color && @previous_answer == index ? @border_color : 'transparent' %>">
            </div>
            <% unless @previous_answer && @border_color == 'green' %>
              <input type="radio" name="choice_index" value="<%= choices_array.find_index(choice_url) %>">
            <% end %>
          </label>

        </div>
      <% end %>

      <div class="content is-large">
        <% unless @border_color == 'green' %>
          <p>Click and drag <strong id="question" class="button"><%= @game.current_question.word %></strong> to the correct picture.</p>
        <% else %>
          <h1>Correct!</h1>
        <% end %>
      </div>

      <button id="submit-button" class="button is-large is-primary" type="submit">
        Submit
      </button>

    </form>

      <span><a class='button is-large is-primary' id="button-next">Next</a></span>

  </div>

  <progress class="progress is-primary" value="<%= @game.number_of_current_question %>" max="10">
    <%= Game::NUMBER_OF_QUESTIONS %>%
  </progress>

</div>